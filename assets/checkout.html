<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-Shop Checkout</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }

        h1 {
            color: #333;
        }

        h2 {
            color: #555;
            margin-top: 30px;
        }

        /* Product Section */
        .product-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .product-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .product-card h3 {
            margin-top: 0;
            color: #007bff;
        }

        .product-card .price {
            font-size: 1.2em;
            color: #28a745;
            font-weight: bold;
            margin: 10px 0;
        }

        .add-to-cart-btn {
            padding: 10px 15px;
            background-color: #28a745;
            color: white;
            border: none;
            cursor: pointer;
            border-radius: 5px;
            width: 100%;
        }

        .add-to-cart-btn:hover {
            background-color: #218838;
        }

        /* Cart Section */
        #cart-section {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }

        .cart-item:last-child {
            border-bottom: none;
        }

        .cart-item-name {
            flex: 1;
        }

        .cart-item-price {
            width: 80px;
            text-align: right;
        }

        .cart-item-qty {
            width: 60px;
            margin: 0 10px;
        }

        .cart-item-qty input {
            width: 50px;
            padding: 5px;
            text-align: center;
        }

        .remove-item {
            background: #dc3545;
            color: white;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
            border-radius: 3px;
        }

        .cart-total {
            font-size: 1.3em;
            font-weight: bold;
            text-align: right;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 2px solid #333;
        }

        /* Form Section */
        #checkout-form {
            background: white;
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #333;
        }

        input[type="text"],
        input[type="email"] {
            width: 100%;
            padding: 10px;
            box-sizing: border-box;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        input[type="text"]:focus,
        input[type="email"]:focus {
            outline: none;
            border-color: #007bff;
        }

        .radio-group {
            display: flex;
            gap: 20px;
            margin-top: 10px;
        }

        .radio-option {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .radio-option input[type="radio"] {
            width: auto;
        }

        button[type="submit"] {
            padding: 15px 30px;
            background-color: #28a745;
            color: white;
            border: none;
            cursor: pointer;
            font-size: 1.1em;
            border-radius: 5px;
            width: 100%;
            margin-top: 20px;
        }

        button[type="submit"]:hover {
            background-color: #218838;
        }

        .apply-promo-btn {
            padding: 10px 20px;
            background-color: #007bff;
            color: white;
            border: none;
            cursor: pointer;
            border-radius: 4px;
            margin-left: 10px;
        }

        .apply-promo-btn:hover {
            background-color: #0056b3;
        }

        .error {
            color: red;
            font-size: 0.9em;
            display: none;
            margin-top: 5px;
        }

        .success {
            color: green;
            font-size: 0.9em;
            display: none;
            margin-top: 5px;
        }

        .success-message {
            background: #d4edda;
            color: #155724;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            font-size: 1.2em;
            display: none;
            margin-top: 20px;
        }

        .empty-cart {
            text-align: center;
            color: #999;
            padding: 20px;
        }
    </style>
</head>

<body>
    <h1>ðŸ›’ E-Shop Checkout</h1>

    <!-- Product Catalog -->
    <h2>Available Products</h2>
    <div class="product-list">
        <div class="product-card">
            <h3>Wireless Headphones</h3>
            <p>Premium noise-cancelling headphones</p>
            <div class="price">$100.00</div>
            <button class="add-to-cart-btn" data-id="1" data-name="Wireless Headphones" data-price="100.00">Add to
                Cart</button>
        </div>

        <div class="product-card">
            <h3>Smart Watch</h3>
            <p>Fitness tracker with heart rate monitor</p>
            <div class="price">$250.00</div>
            <button class="add-to-cart-btn" data-id="2" data-name="Smart Watch" data-price="250.00">Add to Cart</button>
        </div>

        <div class="product-card">
            <h3>Bluetooth Speaker</h3>
            <p>Portable speaker with 360Â° sound</p>
            <div class="price">$75.00</div>
            <button class="add-to-cart-btn" data-id="3" data-name="Bluetooth Speaker" data-price="75.00">Add to
                Cart</button>
        </div>
    </div>

    <!-- Shopping Cart -->
    <div id="cart-section">
        <h2>Shopping Cart</h2>
        <div id="cart-items">
            <div class="empty-cart">Your cart is empty</div>
        </div>
        <div class="cart-total" id="cart-total" style="display: none;">
            Total: $<span id="total-amount">0.00</span>
        </div>
    </div>

    <!-- Checkout Form -->
    <form id="checkout-form">
        <h2>Customer Information</h2>

        <div class="form-group">
            <label for="name">Full Name *</label>
            <input type="text" id="name" required>
            <div id="name-error" class="error">Please enter your full name.</div>
        </div>

        <div class="form-group">
            <label for="email">Email Address *</label>
            <input type="email" id="email" required>
            <div id="email-error" class="error">Please enter a valid email address.</div>
        </div>

        <div class="form-group">
            <label for="address">Shipping Address *</label>
            <input type="text" id="address" required>
            <div id="address-error" class="error">Please enter your shipping address.</div>
        </div>

        <h2>Shipping Method</h2>
        <div class="form-group">
            <div class="radio-group">
                <div class="radio-option">
                    <input type="radio" id="shipping-standard" name="shipping" value="standard" checked>
                    <label for="shipping-standard">Standard Shipping (Free)</label>
                </div>
                <div class="radio-option">
                    <input type="radio" id="shipping-express" name="shipping" value="express">
                    <label for="shipping-express">Express Shipping (+$10.00)</label>
                </div>
            </div>
        </div>

        <h2>Payment Information</h2>

        <div class="form-group">
            <label>Payment Method *</label>
            <div class="radio-group">
                <div class="radio-option">
                    <input type="radio" id="payment-card" name="payment" value="credit_card" checked>
                    <label for="payment-card">Credit Card</label>
                </div>
                <div class="radio-option">
                    <input type="radio" id="payment-paypal" name="payment" value="paypal">
                    <label for="payment-paypal">PayPal</label>
                </div>
            </div>
        </div>

        <div class="form-group">
            <label for="card-number">Card Number *</label>
            <input type="text" id="card-number" placeholder="1234 5678 9101 1121" maxlength="19">
            <div id="card-error" class="error">Card number must be at least 16 digits.</div>
        </div>

        <div class="form-group">
            <label for="promo-code">Discount Code</label>
            <div style="display: flex; align-items: center;">
                <input type="text" id="promo-code" placeholder="Enter promo code" style="flex: 1;">
                <button type="button" class="apply-promo-btn" id="apply-promo">Apply</button>
            </div>
            <div id="promo-message" class="error"></div>
            <small style="color: #666; display: block; margin-top: 5px;">Available codes: SAVE15, SAVE20,
                DISCOUNT10, VALID10</small>
        </div>

        <button type="submit" id="pay-btn">Pay Now</button>
    </form>

    <div id="success-msg" class="success-message">
        âœ… Payment Successful! Order confirmed.<br>
        Thank you for your purchase!
    </div>

    <script>
        // Cart state
        let cart = {};
        let discount = 0;

        // Add to cart functionality
        document.querySelectorAll('.add-to-cart-btn').forEach(btn => {
            btn.addEventListener('click', function () {
                const id = this.dataset.id;
                const name = this.dataset.name;
                const price = parseFloat(this.dataset.price);

                if (cart[id]) {
                    cart[id].quantity++;
                } else {
                    cart[id] = { name, price, quantity: 1 };
                }

                updateCart();
            });
        });

        // Update cart display
        function updateCart() {
            const cartItems = document.getElementById('cart-items');
            const totalElement = document.getElementById('total-amount');
            const cartTotal = document.getElementById('cart-total');

            if (Object.keys(cart).length === 0) {
                cartItems.innerHTML = '<div class="empty-cart">Your cart is empty</div>';
                cartTotal.style.display = 'none';
                return;
            }

            let html = '';
            let subtotal = 0;

            for (let id in cart) {
                const item = cart[id];
                const itemTotal = item.price * item.quantity;
                subtotal += itemTotal;

                html += `
                    <div class="cart-item">
                        <span class="cart-item-name">${item.name}</span>
                        <span class="cart-item-price">$${item.price.toFixed(2)}</span>
                        <div class="cart-item-qty">
                            <input type="number" min="1" value="${item.quantity}" 
                                   onchange="updateQuantity('${id}', this.value)">
                        </div>
                        <span class="cart-item-price">$${itemTotal.toFixed(2)}</span>
                        <button class="remove-item" onclick="removeItem('${id}')">Remove</button>
                    </div>
                `;
            }

            cartItems.innerHTML = html;

            // Calculate total with discount and shipping
            const shipping = document.querySelector('input[name="shipping"]:checked').value === 'express' ? 10 : 0;
            const discountAmount = subtotal * discount;
            const total = subtotal - discountAmount + shipping;

            totalElement.textContent = total.toFixed(2);
            cartTotal.style.display = 'block';
        }

        // Update quantity
        function updateQuantity(id, qty) {
            qty = parseInt(qty);
            if (qty <= 0) {
                delete cart[id];
            } else {
                cart[id].quantity = qty;
            }
            updateCart();
        }

        // Remove item
        function removeItem(id) {
            delete cart[id];
            updateCart();
        }

        // Shipping method change
        document.querySelectorAll('input[name="shipping"]').forEach(radio => {
            radio.addEventListener('change', updateCart);
        });

        // Apply promo code
        document.getElementById('apply-promo').addEventListener('click', () => {
            const code = document.getElementById('promo-code').value.trim().toUpperCase();
            const msg = document.getElementById('promo-message');

            if (code === 'SAVE15') {
                discount = 0.15;
                msg.style.color = 'green';
                msg.textContent = 'Coupon applied successfully.';
                msg.style.display = 'block';
                msg.classList.remove('error');
                msg.classList.add('success');
            } else if (code === 'SAVE20') {
                discount = 0.20;
                msg.style.color = 'green';
                msg.textContent = 'Coupon applied successfully.';
                msg.style.display = 'block';
                msg.classList.remove('error');
                msg.classList.add('success');
            } else if (code === 'DISCOUNT10') {
                discount = 0.10;
                msg.style.color = 'green';
                msg.textContent = 'Coupon applied successfully.';
                msg.style.display = 'block';
                msg.classList.remove('error');
                msg.classList.add('success');
            } else if (code === 'VALID10') {
                discount = 0.10;
                msg.style.color = 'green';
                msg.textContent = 'Coupon applied successfully.';
                msg.style.display = 'block';
                msg.classList.remove('error');
                msg.classList.add('success');
            } else if (code === '') {
                discount = 0;
                msg.style.display = 'none';
            } else {
                discount = 0;
                msg.style.color = 'red';
                msg.textContent = 'Invalid promo code.';
                msg.style.display = 'block';
                msg.classList.add('error');
                msg.classList.remove('success');
            }

            updateCart();
        });

        // Form submission
        document.getElementById('checkout-form').addEventListener('submit', (e) => {
            e.preventDefault();

            // Validate cart
            if (Object.keys(cart).length === 0) {
                alert('Your cart is empty! Please add items before checkout.');
                return;
            }

            // Get form values
            const name = document.getElementById('name').value.trim();
            const email = document.getElementById('email').value.trim();
            const address = document.getElementById('address').value.trim();
            const card = document.getElementById('card-number').value.replace(/\s/g, '');

            let isValid = true;

            // Validate name
            if (name.length < 2) {
                document.getElementById('name-error').style.display = 'block';
                isValid = false;
            } else {
                document.getElementById('name-error').style.display = 'none';
            }

            // Validate email
            if (!email.includes('@') || !email.includes('.')) {
                document.getElementById('email-error').style.display = 'block';
                isValid = false;
            } else {
                document.getElementById('email-error').style.display = 'none';
            }

            // Validate address
            if (address.length < 5) {
                document.getElementById('address-error').style.display = 'block';
                isValid = false;
            } else {
                document.getElementById('address-error').style.display = 'none';
            }

            // Validate card number
            if (card.length < 16) {
                document.getElementById('card-error').style.display = 'block';
                isValid = false;
            } else {
                document.getElementById('card-error').style.display = 'none';
            }

            // Submit if valid
            if (isValid) {
                document.getElementById('success-msg').style.display = 'block';
                document.getElementById('checkout-form').style.display = 'none';
                document.getElementById('cart-section').style.display = 'none';
                document.querySelector('.product-list').style.display = 'none';
            }
        });
    </script>
</body>

</html>